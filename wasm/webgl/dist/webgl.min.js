!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n){var t,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&m())}function m(){if(!l){var e=u(d);l=!0;for(var n=c.length;n;){for(s=c,c=[];++f<n;)s&&s[f].run();f=-1,n=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function v(e,n){this.fun=e,this.array=n}function p(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];c.push(new v(e,n)),1!==c.length||l||u(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){var r,o={canvas:(r=document.getElementById("canvas"),r.addEventListener("webglcontextlost",function(e){alert("WebGL context lost. You will need to reload the page."),e.preventDefault()},!1),r)};t(3)(o)},function(e,n,t){(function(n,r){var o=function(e){var o,i=void 0!==(e=e||{})?e:{},a={};for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);i.arguments=[],i.thisProgram="./this.program",i.quit=function(e,n){throw n},i.preRun=[],i.postRun=[];var u,s,c=!1,l=!1,f=!1,d=!1;if(i.ENVIRONMENT)if("WEB"===i.ENVIRONMENT)c=!0;else if("WORKER"===i.ENVIRONMENT)l=!0;else if("NODE"===i.ENVIRONMENT)f=!0;else{if("SHELL"!==i.ENVIRONMENT)throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");d=!0}else c="object"==typeof window,l="function"==typeof importScripts,f="object"==typeof n&&!c&&!l,d=!c&&!f&&!l;f?(i.read=function(e,n){var r;return u||(u=t(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}())),s||(s=t(6)),e=s.normalize(e),r=u.readFileSync(e),n?r:r.toString()},i.readBinary=function(e){var n=i.read(e,!0);return n.buffer||(n=new Uint8Array(n)),w(n.buffer),n},n.argv.length>1&&(i.thisProgram=n.argv[1].replace(/\\/g,"/")),i.arguments=n.argv.slice(2),n.on("uncaughtException",function(e){if(!(e instanceof Be))throw e}),n.on("unhandledRejection",function(e,t){n.exit(1)}),i.inspect=function(){return"[Emscripten Module object]"}):d?("undefined"!=typeof read&&(i.read=function(e){return read(e)}),i.readBinary=function(e){var n;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(w("object"==typeof(n=read(e,"binary"))),n)},"undefined"!=typeof scriptArgs?i.arguments=scriptArgs:void 0!==arguments&&(i.arguments=arguments),"function"==typeof quit&&(i.quit=function(e,n){quit(e)})):(c||l)&&(i.read=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},l&&(i.readBinary=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),i.readAsync=function(e,n,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):t()},r.onerror=t,r.send(null)},void 0!==arguments&&(i.arguments=arguments),i.setWindowTitle=function(e){document.title=e});for(o in i.print="undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null,i.printErr="undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||i.print,i.print=i.print,i.printErr=i.printErr,a)a.hasOwnProperty(o)&&(i[o]=a[o]);a=void 0;var m=16;function v(e){w(!G);var n=O;return O=O+e+15&-16,n}function p(e,n){return n||(n=m),e=Math.ceil(e/n)*n}function h(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var n=parseInt(e.substr(1));return w(n%8==0),n/8}return 0}}new Array(0);var g=0;function w(e,n){e||We("Assertion failed: "+n)}function y(e,n,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":I[e>>0]=n;break;case"i16":R[e>>1]=n;break;case"i32":P[e>>2]=n;break;case"i64":tempI64=[n>>>0,(tempDouble=n,+ie(tempDouble)>=1?tempDouble>0?(0|se(+ue(tempDouble/4294967296),4294967295))>>>0:~~+ae((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],P[e>>2]=tempI64[0],P[e+4>>2]=tempI64[1];break;case"float":D[e>>2]=n;break;case"double":q[e>>3]=n;break;default:We("invalid type for setValue: "+t)}}var b=0,L=2,E=4;function F(e,n,t,r){var o,i;"number"==typeof e?(o=!0,i=e):(o=!1,i=e.length);var a,u="string"==typeof n?n:null;if(a=t==E?r:["function"==typeof Ae?Ae:v,Ce,v,function(e){w(U);var n=P[U>>2],t=n+e+15&-16;return P[U>>2]=t,t>=J&&!Y()?(P[U>>2]=n,0):n}][void 0===t?L:t](Math.max(i,u?1:n.length)),o){var s;for(r=a,w(0==(3&a)),s=a+(-4&i);r<s;r+=4)P[r>>2]=0;for(s=a+i;r<s;)I[r++>>0]=0;return a}if("i8"===u)return e.subarray||e.slice?B.set(e,a):B.set(new Uint8Array(e),a),a;for(var c,l,f,d=0;d<i;){var m=e[d];0!==(c=u||n[d])?("i64"==c&&(c="i32"),y(a+d,m,c),f!==c&&(l=h(c),f=c),d+=l):d++}return a}function _(e,n){if(0===n||!e)return"";for(var t,r=0,o=0;r|=t=B[e+o>>0],(0!=t||n)&&(o++,!n||o!=n););n||(n=o);var i="";if(r<128){for(var a;n>0;)a=String.fromCharCode.apply(String,B.subarray(e,e+Math.min(n,1024))),i=i?i+a:a,e+=1024,n-=1024;return i}return function(e){return S(B,e)}(e)}var x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,n){for(var t=n;e[t];)++t;if(t-n>16&&e.subarray&&x)return x.decode(e.subarray(n,t));for(var r,o,i,a,u,s="";;){if(!(r=e[n++]))return s;if(128&r)if(o=63&e[n++],192!=(224&r))if(i=63&e[n++],224==(240&r)?r=(15&r)<<12|o<<6|i:(a=63&e[n++],240==(248&r)?r=(7&r)<<18|o<<12|i<<6|a:(u=63&e[n++],r=248==(252&r)?(3&r)<<24|o<<18|i<<12|a<<6|u:(1&r)<<30|o<<24|i<<18|a<<12|u<<6|63&e[n++])),r<65536)s+=String.fromCharCode(r);else{var c=r-65536;s+=String.fromCharCode(55296|c>>10,56320|1023&c)}else s+=String.fromCharCode((31&r)<<6|o);else s+=String.fromCharCode(r)}}function k(e,n,t,r){if(!(r>0))return 0;for(var o=t,i=t+r-1,a=0;a<e.length;++a){var u=e.charCodeAt(a);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(++a)),u<=127){if(t>=i)break;n[t++]=u}else if(u<=2047){if(t+1>=i)break;n[t++]=192|u>>6,n[t++]=128|63&u}else if(u<=65535){if(t+2>=i)break;n[t++]=224|u>>12,n[t++]=128|u>>6&63,n[t++]=128|63&u}else if(u<=2097151){if(t+3>=i)break;n[t++]=240|u>>18,n[t++]=128|u>>12&63,n[t++]=128|u>>6&63,n[t++]=128|63&u}else if(u<=67108863){if(t+4>=i)break;n[t++]=248|u>>24,n[t++]=128|u>>18&63,n[t++]=128|u>>12&63,n[t++]=128|u>>6&63,n[t++]=128|63&u}else{if(t+5>=i)break;n[t++]=252|u>>30,n[t++]=128|u>>24&63,n[t++]=128|u>>18&63,n[t++]=128|u>>12&63,n[t++]=128|u>>6&63,n[t++]=128|63&u}}return n[t]=0,t-o}function M(e,n,t){return k(e,B,n,t)}function A(e){for(var n=0,t=0;t<e.length;++t){var r=e.charCodeAt(t);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++t)),r<=127?++n:n+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return n}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function C(e){var n=A(e)+1,t=Ce(n);return k(e,I,t,n),t}var T,I,B,R,P,W,D,q,O,G,N,z,U,j=65536,V=16777216;function X(){i.HEAP8=I=new Int8Array(T),i.HEAP16=R=new Int16Array(T),i.HEAP32=P=new Int32Array(T),i.HEAPU8=B=new Uint8Array(T),i.HEAPU16=new Uint16Array(T),i.HEAPU32=W=new Uint32Array(T),i.HEAPF32=D=new Float32Array(T),i.HEAPF64=q=new Float64Array(T)}function K(){We("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+J+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function Y(){K()}O=N=U=0,G=!1;var H=i.TOTAL_STACK||5242880,J=i.TOTAL_MEMORY||16777216;if(J<H&&i.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+J+"! (TOTAL_STACK="+H+")"),i.buffer?T=i.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(i.wasmMemory=new WebAssembly.Memory({initial:J/j,maximum:J/j}),T=i.wasmMemory.buffer):T=new ArrayBuffer(J),i.buffer=T),X(),P[0]=1668509029,R[1]=25459,115!==B[2]||99!==B[3])throw"Runtime error: expected the system to be little-endian!";function Z(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?i.dynCall_v(t):i.dynCall_vi(t,n.arg):t(void 0===n.arg?null:n.arg)}else n()}}var $=[],Q=[],ee=[],ne=[],te=[],re=!1;function oe(){re||(re=!0,Z(Q))}var ie=Math.abs,ae=(Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt,Math.ceil),ue=Math.floor,se=(Math.pow,Math.imul,Math.fround,Math.round,Math.min),ce=(Math.max,Math.clz32,Math.trunc,0),le=null,fe=null;function de(e){ce++,i.monitorRunDependencies&&i.monitorRunDependencies(ce)}function me(e){if(ce--,i.monitorRunDependencies&&i.monitorRunDependencies(ce),0==ce&&(null!==le&&(clearInterval(le),le=null),fe)){var n=fe;fe=null,n()}}i.preloadedImages={},i.preloadedAudios={};var ve="data:application/octet-stream;base64,";function pe(e){return String.prototype.startsWith?e.startsWith(ve):0===e.indexOf(ve)}!function(){var e="webgl.wast",n="webgl.wasm",t="webgl.temp.asm.js";"function"==typeof i.locateFile&&(pe(e)||(e=i.locateFile(e)),pe(n)||(n=i.locateFile(n)),pe(t)||(t=i.locateFile(t)));var r={global:null,env:null,asm2wasm:{"f64-rem":function(e,n){return e%n},debugger:function(){}},parent:i},o=null;function a(e){var n=i.buffer;e.byteLength<n.byteLength&&i.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var t,r=new Int8Array(n);new Int8Array(e).set(r),t=e,i.buffer=T=t,X()}function u(){try{if(i.wasmBinary)return new Uint8Array(i.wasmBinary);if(i.readBinary)return i.readBinary(n);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(e){We(e)}}function s(e,t,s){if("object"!=typeof WebAssembly)return i.printErr("no native wasm support detected"),!1;if(!(i.wasmMemory instanceof WebAssembly.Memory))return i.printErr("no native wasm Memory in use"),!1;function f(e,n){(o=e.exports).memory&&a(o.memory),i.asm=o,i.usingWasm=!0,me()}if(t.memory=i.wasmMemory,r.global={NaN:NaN,Infinity:1/0},r["global.Math"]=Math,r.env=t,de(),i.instantiateWasm)try{return i.instantiateWasm(r,f)}catch(e){return i.printErr("Module.instantiateWasm callback failed with error: "+e),!1}function d(e){f(e.instance,e.module)}function m(e){(i.wasmBinary||!c&&!l||"function"!=typeof fetch?new Promise(function(e,n){e(u())}):fetch(n,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+n+"'";return e.arrayBuffer()}).catch(function(){return u()})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e).catch(function(e){i.printErr("failed to asynchronously prepare wasm: "+e),We(e)})}return i.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||pe(n)||"function"!=typeof fetch?m(d):WebAssembly.instantiateStreaming(fetch(n,{credentials:"same-origin"}),r).then(d).catch(function(e){i.printErr("wasm streaming compile failed: "+e),i.printErr("falling back to ArrayBuffer instantiation"),m(d)}),{}}i.asmPreload=i.asm;var f=i.reallocBuffer;i.reallocBuffer=function(e){return"asmjs"===d?f(e):function(e){var n,t,r=i.usingWasm?j:V;(n=e)%(t=r)>0&&(n+=t-n%t),e=n;var o=i.buffer.byteLength;if(i.usingWasm)try{return-1!==i.wasmMemory.grow((e-o)/65536)?i.buffer=i.wasmMemory.buffer:null}catch(e){return null}}(e)};var d="";i.asm=function(e,n,t){var r;if(!(n=n).table){var o=i.wasmTableSize;void 0===o&&(o=1024);var a=i.wasmMaxTableSize;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?n.table=void 0!==a?new WebAssembly.Table({initial:o,maximum:a,element:"anyfunc"}):new WebAssembly.Table({initial:o,element:"anyfunc"}):n.table=new Array(o),i.wasmTable=n.table}return n.memoryBase||(n.memoryBase=i.STATIC_BASE),n.tableBase||(n.tableBase=0),(r=s(0,n))||We("no binaryen method succeeded. consider enabling more options, like interpreting, if you want that: https://github.com/kripken/emscripten/wiki/WebAssembly#binaryen-methods"),r}}(),O=6352,Q.push();i.STATIC_BASE=1024,i.STATIC_BUMP=5328,O+=16;var he={varargs:0,get:function(e){return he.varargs+=4,P[he.varargs-4>>2]},getStr:function(){return _(he.get())},get64:function(){var e=he.get(),n=he.get();return w(e>=0?0===n:-1===n),e},getZero:function(){w(0===he.get())}};function ge(e,n){if(be.mainLoop.timingMode=e,be.mainLoop.timingValue=n,!be.mainLoop.func)return 1;if(0==e)be.mainLoop.scheduler=function(){var e=0|Math.max(0,be.mainLoop.tickStartTime+n-we());setTimeout(be.mainLoop.runner,e)},be.mainLoop.method="timeout";else if(1==e)be.mainLoop.scheduler=function(){be.requestAnimationFrame(be.mainLoop.runner)},be.mainLoop.method="rAF";else if(2==e){if(void 0===r){var t=[],o="setimmediate";addEventListener("message",function(e){e.data!==o&&e.data.target!==o||(e.stopPropagation(),t.shift()())},!0),r=function(e){t.push(e),l?(void 0===i.setImmediates&&(i.setImmediates=[]),i.setImmediates.push(e),postMessage({target:o})):postMessage(o,"*")}}be.mainLoop.scheduler=function(){r(be.mainLoop.runner)},be.mainLoop.method="immediate"}return 0}function we(){We()}function ye(e,n,t,r,o){var a;i.noExitRuntime=!0,w(!be.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),be.mainLoop.func=e,be.mainLoop.arg=r,a=void 0!==r?function(){i.dynCall_vi(e,r)}:function(){i.dynCall_v(e)};var u=be.mainLoop.currentlyRunningMainloop;if(be.mainLoop.runner=function(){if(!g)if(be.mainLoop.queue.length>0){var e=Date.now(),n=be.mainLoop.queue.shift();if(n.func(n.arg),be.mainLoop.remainingBlockers){var t=be.mainLoop.remainingBlockers,r=t%1==0?t-1:Math.floor(t);n.counted?be.mainLoop.remainingBlockers=r:(r+=.5,be.mainLoop.remainingBlockers=(8*t+r)/9)}if(console.log('main loop blocker "'+n.name+'" took '+(Date.now()-e)+" ms"),be.mainLoop.updateStatus(),u<be.mainLoop.currentlyRunningMainloop)return;setTimeout(be.mainLoop.runner,0)}else u<be.mainLoop.currentlyRunningMainloop||(be.mainLoop.currentFrameNumber=be.mainLoop.currentFrameNumber+1|0,1==be.mainLoop.timingMode&&be.mainLoop.timingValue>1&&be.mainLoop.currentFrameNumber%be.mainLoop.timingValue!=0?be.mainLoop.scheduler():(0==be.mainLoop.timingMode&&(be.mainLoop.tickStartTime=we()),"timeout"===be.mainLoop.method&&i.ctx&&(i.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),be.mainLoop.method=""),be.mainLoop.runIter(a),u<be.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),be.mainLoop.scheduler())))},o||(n&&n>0?ge(0,1e3/n):ge(1,1),be.mainLoop.scheduler()),t)throw"SimulateInfiniteLoop"}var be={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){be.mainLoop.scheduler=null,be.mainLoop.currentlyRunningMainloop++},resume:function(){be.mainLoop.currentlyRunningMainloop++;var e=be.mainLoop.timingMode,n=be.mainLoop.timingValue,t=be.mainLoop.func;be.mainLoop.func=null,ye(t,0,!1,be.mainLoop.arg,!0),ge(e,n),be.mainLoop.scheduler()},updateStatus:function(){if(i.setStatus){var e=i.statusMessage||"Please wait...",n=be.mainLoop.remainingBlockers,t=be.mainLoop.expectedBlockers;n?n<t?i.setStatus(e+" ("+(t-n)+"/"+t+")"):i.setStatus(e):i.setStatus("")}},runIter:function(e){if(!g){if(i.preMainLoop)if(!1===i.preMainLoop())return;try{e()}catch(e){if(e instanceof Be)return;throw e&&"object"==typeof e&&e.stack&&i.printErr("exception thrown: "+[e,e.stack]),e}i.postMainLoop&&i.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(i.preloadPlugins||(i.preloadPlugins=[]),!be.initted){be.initted=!0;try{new Blob,be.hasBlobConstructor=!0}catch(e){be.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}be.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:be.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),be.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,i.noImageDecoding||void 0!==be.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),i.noImageDecoding=!0);var e={canHandle:function(e){return!i.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)}};e.handle=function(e,n,t,r){var o=null;if(be.hasBlobConstructor)try{(o=new Blob([e],{type:be.getMimetype(n)})).size!==e.length&&(o=new Blob([new Uint8Array(e).buffer],{type:be.getMimetype(n)}))}catch(e){!function e(n){e.shown||(e.shown={}),e.shown[n]||(e.shown[n]=1,i.printErr(n))}("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!o){var a=new be.BlobBuilder;a.append(new Uint8Array(e).buffer),o=a.getBlob()}var u=be.URLObject.createObjectURL(o),s=new Image;s.onload=function(){w(s.complete,"Image "+n+" could not be decoded");var r=document.createElement("canvas");r.width=s.width,r.height=s.height,r.getContext("2d").drawImage(s,0,0),i.preloadedImages[n]=r,be.URLObject.revokeObjectURL(u),t&&t(e)},s.onerror=function(e){console.log("Image "+u+" could not be decoded"),r&&r()},s.src=u},i.preloadPlugins.push(e);var n={canHandle:function(e){return!i.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,n,t,r){var o=!1;function a(r){o||(o=!0,i.preloadedAudios[n]=r,t&&t(e))}function u(){o||(o=!0,i.preloadedAudios[n]=new Audio,r&&r())}if(!be.hasBlobConstructor)return u();try{var s=new Blob([e],{type:be.getMimetype(n)})}catch(e){return u()}var c=be.URLObject.createObjectURL(s),l=new Audio;l.addEventListener("canplaythrough",function(){a(l)},!1),l.onerror=function(t){o||(console.log("warning: browser could not fully decode audio "+n+", trying slower base64 approach"),l.src="data:audio/x-"+n.substr(-3)+";base64,"+function(e){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="",r=0,o=0,i=0;i<e.length;i++)for(r=r<<8|e[i],o+=8;o>=6;){var a=r>>o-6&63;o-=6,t+=n[a]}return 2==o?(t+=n[(3&r)<<4],t+="=="):4==o&&(t+=n[(15&r)<<2],t+="="),t}(e),a(l))},l.src=c,be.safeSetTimeout(function(){a(l)},1e4)}};i.preloadPlugins.push(n);var t=i.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",r,!1),document.addEventListener("mozpointerlockchange",r,!1),document.addEventListener("webkitpointerlockchange",r,!1),document.addEventListener("mspointerlockchange",r,!1),i.elementPointerLock&&t.addEventListener("click",function(e){!be.pointerLock&&i.canvas.requestPointerLock&&(i.canvas.requestPointerLock(),e.preventDefault())},!1))}function r(){be.pointerLock=document.pointerLockElement===i.canvas||document.mozPointerLockElement===i.canvas||document.webkitPointerLockElement===i.canvas||document.msPointerLockElement===i.canvas}},createContext:function(e,n,t,r){if(n&&i.ctx&&e==i.canvas)return i.ctx;var o,a;if(n){var u={antialias:!1,alpha:!1};if(r)for(var s in r)u[s]=r[s];(a=Le.createContext(e,u))&&(o=Le.getContext(a).GLctx)}else o=e.getContext("2d");return o?(t&&(n||w(void 0===Ee,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),i.ctx=o,n&&Le.makeContextCurrent(a),i.useWebGL=n,be.moduleContextCreatedCallbacks.forEach(function(e){e()}),be.init()),o):null},destroyContext:function(e,n,t){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,n,t){be.lockPointer=e,be.resizeCanvas=n,be.vrDevice=t,void 0===be.lockPointer&&(be.lockPointer=!0),void 0===be.resizeCanvas&&(be.resizeCanvas=!1),void 0===be.vrDevice&&(be.vrDevice=null);var r=i.canvas;function o(){be.isFullscreen=!1;var e=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(r.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},r.exitFullscreen=r.exitFullscreen.bind(document),be.lockPointer&&r.requestPointerLock(),be.isFullscreen=!0,be.resizeCanvas&&be.setFullscreenCanvasSize()):(e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e),be.resizeCanvas&&be.setWindowedCanvasSize()),i.onFullScreen&&i.onFullScreen(be.isFullscreen),i.onFullscreen&&i.onFullscreen(be.isFullscreen),be.updateCanvasDimensions(r)}be.fullscreenHandlersInstalled||(be.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1),document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("MSFullscreenChange",o,!1));var a=document.createElement("div");r.parentNode.insertBefore(a,r),a.appendChild(r),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?function(){a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),t?a.requestFullscreen({vrDisplay:t}):a.requestFullscreen()},requestFullScreen:function(e,n,t){return i.printErr("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),be.requestFullScreen=function(e,n,t){return be.requestFullscreen(e,n,t)},be.requestFullscreen(e,n,t)},nextRAF:0,fakeRequestAnimationFrame:function(e){var n=Date.now();if(0===be.nextRAF)be.nextRAF=n+1e3/60;else for(;n+2>=be.nextRAF;)be.nextRAF+=1e3/60;var t=Math.max(be.nextRAF-n,0);setTimeout(e,t)},requestAnimationFrame:function(e){"undefined"==typeof window?be.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||be.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!g)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){be.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(be.allowAsyncCallbacks=!0,be.queuedAsyncCallbacks.length>0){var e=be.queuedAsyncCallbacks;be.queuedAsyncCallbacks=[],e.forEach(function(e){e()})}},safeRequestAnimationFrame:function(e){return be.requestAnimationFrame(function(){g||(be.allowAsyncCallbacks?e():be.queuedAsyncCallbacks.push(e))})},safeSetTimeout:function(e,n){return i.noExitRuntime=!0,setTimeout(function(){g||(be.allowAsyncCallbacks?e():be.queuedAsyncCallbacks.push(e))},n)},safeSetInterval:function(e,n){return i.noExitRuntime=!0,setInterval(function(){g||be.allowAsyncCallbacks&&e()},n)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var n=0;switch(e.type){case"DOMMouseScroll":n=e.detail;break;case"mousewheel":n=e.wheelDelta;break;case"wheel":n=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return n},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(be.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?be.mouseMovementX=be.mouseMovementY=0:(be.mouseMovementX=be.getMovementX(e),be.mouseMovementY=be.getMovementY(e)),"undefined"!=typeof SDL?(be.mouseX=SDL.mouseX+be.mouseMovementX,be.mouseY=SDL.mouseY+be.mouseMovementY):(be.mouseX+=be.mouseMovementX,be.mouseY+=be.mouseMovementY);else{var n=i.canvas.getBoundingClientRect(),t=i.canvas.width,r=i.canvas.height,o=void 0!==window.scrollX?window.scrollX:window.pageXOffset,a=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var u=e.touch;if(void 0===u)return;var s=u.pageX-(o+n.left),c=u.pageY-(a+n.top),l={x:s*=t/n.width,y:c*=r/n.height};if("touchstart"===e.type)be.lastTouches[u.identifier]=l,be.touches[u.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var f=be.touches[u.identifier];f||(f=l),be.lastTouches[u.identifier]=f,be.touches[u.identifier]=l}return}var d=e.pageX-(o+n.left),m=e.pageY-(a+n.top);d*=t/n.width,m*=r/n.height,be.mouseMovementX=d-be.mouseX,be.mouseMovementY=m-be.mouseY,be.mouseX=d,be.mouseY=m}},asyncLoad:function(e,n,t,r){var o=r?"":"al "+e;i.readAsync(e,function(t){w(t,'Loading data file "'+e+'" failed (no arrayBuffer).'),n(new Uint8Array(t)),o&&me()},function(n){if(!t)throw'Loading data file "'+e+'" failed.';t()}),o&&de()},resizeListeners:[],updateResizeListeners:function(){var e=i.canvas;be.resizeListeners.forEach(function(n){n(e.width,e.height)})},setCanvasSize:function(e,n,t){var r=i.canvas;be.updateCanvasDimensions(r,e,n),t||be.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=W[SDL.screen>>2];e|=8388608,P[SDL.screen>>2]=e}be.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=W[SDL.screen>>2];e&=-8388609,P[SDL.screen>>2]=e}be.updateResizeListeners()},updateCanvasDimensions:function(e,n,t){n&&t?(e.widthNative=n,e.heightNative=t):(n=e.widthNative,t=e.heightNative);var r=n,o=t;if(i.forcedAspectRatio&&i.forcedAspectRatio>0&&(r/o<i.forcedAspectRatio?r=Math.round(o*i.forcedAspectRatio):o=Math.round(r/i.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/r,screen.height/o);r=Math.round(r*a),o=Math.round(o*a)}be.resizeCanvas?(e.width!=r&&(e.width=r),e.height!=o&&(e.height=o),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=n&&(e.width=n),e.height!=t&&(e.height=t),void 0!==e.style&&(r!=n||o!=t?(e.style.setProperty("width",r+"px","important"),e.style.setProperty("height",o+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=be.nextWgetRequestHandle;return be.nextWgetRequestHandle++,e}};var Le={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},tempFixedLengthArray:[],packAlignment:4,unpackAlignment:4,init:function(){Le.miniTempBuffer=new Float32Array(Le.MINI_TEMP_BUFFER_SIZE);for(var e=0;e<Le.MINI_TEMP_BUFFER_SIZE;e++)Le.miniTempBufferViews[e]=Le.miniTempBuffer.subarray(0,e+1);for(e=0;e<32;e++)Le.tempFixedLengthArray.push(new Array(e))},recordError:function(e){Le.lastError||(Le.lastError=e)},getNewId:function(e){for(var n=Le.counter++,t=e.length;t<n;t++)e[t]=null;return n},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(e,n,t,r){for(var o="",i=0;i<n;++i){var a;if(r){var u=P[r+4*i>>2];a=u<0?_(P[t+4*i>>2]):_(P[t+4*i>>2],u)}else a=_(P[t+4*i>>2]);o+=a}return o},createContext:function(e,n){var t;void 0===n.majorVersion&&void 0===n.minorVersion&&("undefined"!=typeof WebGL2RenderingContext?n.majorVersion=2:n.majorVersion=1,n.minorVersion=0);var r="?";function o(e){r=e.statusMessage||r}try{e.addEventListener("webglcontextcreationerror",o,!1);try{if(1==n.majorVersion&&0==n.minorVersion)t=e.getContext("webgl",n)||e.getContext("experimental-webgl",n);else{if(2!=n.majorVersion||0!=n.minorVersion)throw"Unsupported WebGL context version "+majorVersion+"."+minorVersion+"!";t=e.getContext("webgl2",n)}}finally{e.removeEventListener("webglcontextcreationerror",o,!1)}if(!t)throw":("}catch(e){return i.print("Could not create canvas: "+[r,e,JSON.stringify(n)]),0}return t?Le.registerContext(t,n):0},registerContext:function(e,n){var t=Le.getNewId(Le.contexts),r={handle:t,attributes:n,version:n.majorVersion,GLctx:e};function o(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}return r.supportsWebGL2EntryPoints=r.version>=2&&(!1===o()||o()>=58),e.canvas&&(e.canvas.GLctxObject=r),Le.contexts[t]=r,(void 0===n.enableExtensionsByDefault||n.enableExtensionsByDefault)&&Le.initExtensions(r),t},makeContextCurrent:function(e){var n=Le.contexts[e];return!!n&&(Ee=i.ctx=n.GLctx,Le.currentContext=n,!0)},getContext:function(e){return Le.contexts[e]},deleteContext:function(e){Le.currentContext===Le.contexts[e]&&(Le.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(Le.contexts[e].GLctx.canvas),Le.contexts[e]&&Le.contexts[e].GLctx.canvas&&(Le.contexts[e].GLctx.canvas.GLctxObject=void 0),Le.contexts[e]=null},initExtensions:function(e){if(e||(e=Le.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var n=e.GLctx;if(e.maxVertexAttribs=n.getParameter(n.MAX_VERTEX_ATTRIBS),e.version<2){var t=n.getExtension("ANGLE_instanced_arrays");t&&(n.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},n.drawArraysInstanced=function(e,n,r,o){t.drawArraysInstancedANGLE(e,n,r,o)},n.drawElementsInstanced=function(e,n,r,o,i){t.drawElementsInstancedANGLE(e,n,r,o,i)});var r=n.getExtension("OES_vertex_array_object");r&&(n.createVertexArray=function(){return r.createVertexArrayOES()},n.deleteVertexArray=function(e){r.deleteVertexArrayOES(e)},n.bindVertexArray=function(e){r.bindVertexArrayOES(e)},n.isVertexArray=function(e){return r.isVertexArrayOES(e)});var o=n.getExtension("WEBGL_draw_buffers");o&&(n.drawBuffers=function(e,n){o.drawBuffersWEBGL(e,n)})}n.disjointTimerQueryExt=n.getExtension("EXT_disjoint_timer_query");var i=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","WEBGL_compressed_texture_atc","WEBKIT_WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_frag_depth","EXT_sRGB","WEBGL_draw_buffers","WEBGL_shared_resources","EXT_shader_texture_lod","EXT_color_buffer_float"],a=n.getSupportedExtensions();a&&a.length>0&&n.getSupportedExtensions().forEach(function(e){-1!=i.indexOf(e)&&n.getExtension(e)})}},populateUniformTable:function(e){var n=Le.programs[e];Le.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};for(var t=Le.programInfos[e],r=t.uniforms,o=Ee.getProgramParameter(n,Ee.ACTIVE_UNIFORMS),i=0;i<o;++i){var a=Ee.getActiveUniform(n,i),u=a.name;if(t.maxUniformLength=Math.max(t.maxUniformLength,u.length+1),-1!==u.indexOf("]",u.length-1)){var s=u.lastIndexOf("[");u=u.slice(0,s)}var c=Ee.getUniformLocation(n,u);if(null!=c){var l=Le.getNewId(Le.uniforms);r[u]=[a.size,l],Le.uniforms[l]=c;for(var f=1;f<a.size;++f){var d=u+"["+f+"]";c=Ee.getUniformLocation(n,d),l=Le.getNewId(Le.uniforms),Le.uniforms[l]=c}}}}};var Ee,Fe={Window:function(e,n,t,r,o,i){this.id=e,this.x=0,this.y=0,this.fullscreen=!1,this.storedX=0,this.storedY=0,this.width=n,this.height=t,this.storedWidth=n,this.storedHeight=t,this.title=r,this.monitor=o,this.share=i,this.attributes=Fe.hints,this.inputModes={208897:212993,208898:0,208899:0},this.buttons=0,this.keys=new Array,this.domKeys=new Array,this.shouldClose=0,this.title=null,this.windowPosFunc=null,this.windowSizeFunc=null,this.windowCloseFunc=null,this.windowRefreshFunc=null,this.windowFocusFunc=null,this.windowIconifyFunc=null,this.framebufferSizeFunc=null,this.mouseButtonFunc=null,this.cursorPosFunc=null,this.cursorEnterFunc=null,this.scrollFunc=null,this.dropFunc=null,this.keyFunc=null,this.charFunc=null,this.userptr=null},WindowFromId:function(e){return e<=0||!Fe.windows?null:Fe.windows[e-1]},joystickFunc:null,errorFunc:null,monitorFunc:null,active:null,windows:null,monitors:null,monitorString:null,versionString:null,initialTime:null,extensions:null,hints:null,defaultHints:{131073:0,131074:0,131075:1,131076:1,131077:1,135169:8,135170:8,135171:8,135172:8,135173:24,135174:8,135175:0,135176:0,135177:0,135178:0,135179:0,135180:0,135181:0,135182:0,135183:0,139265:196609,139266:1,139267:0,139268:0,139269:0,139270:0,139271:0,139272:0},DOMToGLFWKeyCode:function(e){switch(e){case 32:return 32;case 222:return 39;case 188:return 44;case 173:case 189:return 45;case 190:return 46;case 191:return 47;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 59:return 59;case 61:case 187:return 61;case 65:return 65;case 66:return 66;case 67:return 67;case 68:return 68;case 69:return 69;case 70:return 70;case 71:return 71;case 72:return 72;case 73:return 73;case 74:return 74;case 75:return 75;case 76:return 76;case 77:return 77;case 78:return 78;case 79:return 79;case 80:return 80;case 81:return 81;case 82:return 82;case 83:return 83;case 84:return 84;case 85:return 85;case 86:return 86;case 87:return 87;case 88:return 88;case 89:return 89;case 90:return 90;case 219:return 91;case 220:return 92;case 221:return 93;case 192:return 94;case 27:return 256;case 13:return 257;case 9:return 258;case 8:return 259;case 45:return 260;case 46:return 261;case 39:return 262;case 37:return 263;case 40:return 264;case 38:return 265;case 33:return 266;case 34:return 267;case 36:return 268;case 35:return 269;case 20:return 280;case 145:return 281;case 144:return 282;case 44:return 283;case 19:return 284;case 112:return 290;case 113:return 291;case 114:return 292;case 115:return 293;case 116:return 294;case 117:return 295;case 118:return 296;case 119:return 297;case 120:return 298;case 121:return 299;case 122:return 300;case 123:return 301;case 124:return 302;case 125:return 303;case 126:return 304;case 127:return 305;case 128:return 306;case 129:return 307;case 130:return 308;case 131:return 309;case 132:return 310;case 133:return 311;case 134:return 312;case 135:return 313;case 136:return 314;case 96:return 320;case 97:return 321;case 98:return 322;case 99:return 323;case 100:return 324;case 101:return 325;case 102:return 326;case 103:return 327;case 104:return 328;case 105:return 329;case 110:return 330;case 111:return 331;case 106:return 332;case 109:return 333;case 107:return 334;case 16:return 340;case 17:return 341;case 18:return 342;case 91:return 343;case 93:return 348;default:return-1}},getModBits:function(e){var n=0;return e.keys[340]&&(n|=1),e.keys[341]&&(n|=2),e.keys[342]&&(n|=4),e.keys[343]&&(n|=8),n},onKeyPress:function(e){if(Fe.active&&Fe.active.charFunc&&!e.ctrlKey&&!e.metaKey){var n=e.charCode;0==n||n>=0&&n<=31||i.dynCall_vii(Fe.active.charFunc,Fe.active.id,n)}},onKeyChanged:function(e,n){if(Fe.active){var t=Fe.DOMToGLFWKeyCode(e);if(-1!=t){var r=n&&Fe.active.keys[t];Fe.active.keys[t]=n,Fe.active.domKeys[e]=n,Fe.active.keyFunc&&(r&&(n=2),i.dynCall_viiiii(Fe.active.keyFunc,Fe.active.id,t,e,n,Fe.getModBits(Fe.active)))}}},onGamepadConnected:function(e){Fe.refreshJoysticks()},onGamepadDisconnected:function(e){Fe.refreshJoysticks()},onKeydown:function(e){Fe.onKeyChanged(e.keyCode,1),8!==e.keyCode&&9!==e.keyCode||e.preventDefault()},onKeyup:function(e){Fe.onKeyChanged(e.keyCode,0)},onBlur:function(e){if(Fe.active)for(var n=0;n<Fe.active.domKeys.length;++n)Fe.active.domKeys[n]&&Fe.onKeyChanged(n,0)},onMousemove:function(e){Fe.active&&(be.calculateMouseEvent(e),e.target==i.canvas&&Fe.active.cursorPosFunc&&i.dynCall_vidd(Fe.active.cursorPosFunc,Fe.active.id,be.mouseX,be.mouseY))},DOMToGLFWMouseButton:function(e){var n=e.button;return n>0&&(n=1==n?2:1),n},onMouseenter:function(e){Fe.active&&e.target==i.canvas&&Fe.active.cursorEnterFunc&&i.dynCall_vii(Fe.active.cursorEnterFunc,Fe.active.id,1)},onMouseleave:function(e){Fe.active&&e.target==i.canvas&&Fe.active.cursorEnterFunc&&i.dynCall_vii(Fe.active.cursorEnterFunc,Fe.active.id,0)},onMouseButtonChanged:function(e,n){if(Fe.active&&(be.calculateMouseEvent(e),e.target==i.canvas)){if(eventButton=Fe.DOMToGLFWMouseButton(e),1==n){Fe.active.buttons|=1<<eventButton;try{e.target.setCapture()}catch(e){}}else Fe.active.buttons&=~(1<<eventButton);Fe.active.mouseButtonFunc&&i.dynCall_viiii(Fe.active.mouseButtonFunc,Fe.active.id,eventButton,n,Fe.getModBits(Fe.active))}},onMouseButtonDown:function(e){Fe.active&&Fe.onMouseButtonChanged(e,1)},onMouseButtonUp:function(e){Fe.active&&Fe.onMouseButtonChanged(e,0)},onMouseWheel:function(e){var n=-be.getMouseWheelDelta(e);if(n=0==n?0:n>0?Math.max(n,1):Math.min(n,-1),Fe.wheelPos+=n,Fe.active&&Fe.active.scrollFunc&&e.target==i.canvas){var t=0,r=0;"mousewheel"==e.type?(t=e.wheelDeltaX,r=e.wheelDeltaY):(t=e.deltaX,r=e.deltaY),i.dynCall_vidd(Fe.active.scrollFunc,Fe.active.id,t,r),e.preventDefault()}},onCanvasResize:function(e,n){if(Fe.active){var t=!0;document.fullscreen||document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?(Fe.active.storedX=Fe.active.x,Fe.active.storedY=Fe.active.y,Fe.active.storedWidth=Fe.active.width,Fe.active.storedHeight=Fe.active.height,Fe.active.x=Fe.active.y=0,Fe.active.width=screen.width,Fe.active.height=screen.height,Fe.active.fullscreen=!0):1==Fe.active.fullscreen?(Fe.active.x=Fe.active.storedX,Fe.active.y=Fe.active.storedY,Fe.active.width=Fe.active.storedWidth,Fe.active.height=Fe.active.storedHeight,Fe.active.fullscreen=!1):Fe.active.width!=e||Fe.active.height!=n?(Fe.active.width=e,Fe.active.height=n):t=!1,t&&(be.setCanvasSize(Fe.active.width,Fe.active.height,!0),Fe.onWindowSizeChanged(),Fe.onFramebufferSizeChanged())}},onWindowSizeChanged:function(){Fe.active&&Fe.active.windowSizeFunc&&i.dynCall_viii(Fe.active.windowSizeFunc,Fe.active.id,Fe.active.width,Fe.active.height)},onFramebufferSizeChanged:function(){Fe.active&&Fe.active.framebufferSizeFunc&&i.dynCall_viii(Fe.active.framebufferSizeFunc,Fe.active.id,Fe.active.width,Fe.active.height)},requestFullscreen:function(){(i.canvas.requestFullscreen||i.canvas.mozRequestFullScreen||i.canvas.webkitRequestFullScreen||function(){}).apply(i.canvas,[])},requestFullScreen:function(){return i.printErr("GLFW.requestFullScreen() is deprecated. Please call GLFW.requestFullscreen instead."),Fe.requestFullScreen=function(){return Fe.requestFullscreen()},Fe.requestFullscreen()},exitFullscreen:function(){(document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||function(){}).apply(document,[])},cancelFullScreen:function(){return i.printErr("GLFW.cancelFullScreen() is deprecated. Please call GLFW.exitFullscreen instead."),Fe.cancelFullScreen=function(){return Fe.exitFullscreen()},Fe.exitFullscreen()},getTime:function(){return we()/1e3},setWindowTitle:function(e,n){var t=Fe.WindowFromId(e);t&&(t.title=_(n),Fe.active.id==t.id&&(document.title=t.title))},setJoystickCallback:function(e){Fe.joystickFunc=e,Fe.refreshJoysticks()},joys:{},lastGamepadState:null,lastGamepadStateFrame:null,refreshJoysticks:function(){if(be.mainLoop.currentFrameNumber!==Fe.lastGamepadStateFrame||!be.mainLoop.currentFrameNumber){Fe.lastGamepadState=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads:null,Fe.lastGamepadStateFrame=be.mainLoop.currentFrameNumber;for(var e=0;e<Fe.lastGamepadState.length;++e){var n=Fe.lastGamepadState[e];if(n){Fe.joys[e]||(console.log("glfw joystick connected:",e),Fe.joys[e]={id:F(xe(n.id),"i8",b),buttonsCount:n.buttons.length,axesCount:n.axes.length,buttons:F(new Array(n.buttons.length),"i8",b),axes:F(new Array(4*n.axes.length),"float",b)},Fe.joystickFunc&&i.dynCall_vii(Fe.joystickFunc,e,262145));for(var t=Fe.joys[e],r=0;r<n.buttons.length;++r)y(t.buttons+r,n.buttons[r].pressed,"i8");for(r=0;r<n.axes.length;++r)y(t.axes+4*r,n.axes[r],"float")}else Fe.joys[e]&&(console.log("glfw joystick disconnected",e),Fe.joystickFunc&&i.dynCall_vii(Fe.joystickFunc,e,262146),Me(Fe.joys[e].id),Me(Fe.joys[e].buttons),Me(Fe.joys[e].axes),delete Fe.joys[e])}}},setKeyCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.keyFunc=n)},setCharCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.charFunc=n)},setMouseButtonCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.mouseButtonFunc=n)},setCursorPosCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.cursorPosFunc=n)},setScrollCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.scrollFunc=n)},setDropCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.dropFunc=n)},onDrop:function(e){if(Fe.active&&Fe.active.dropFunc&&e.dataTransfer&&e.dataTransfer.files&&0!=e.dataTransfer.files.length){e.preventDefault();var n=F(new Array(4*e.dataTransfer.files.length),"i8*",b),t=[],r=e.dataTransfer.files.length,o=0,a=".glfw_dropped_files";FS.createPath("/",a);for(var u=0;u<r;++u)s(e.dataTransfer.files[u]);return!1}function s(e){var s="/"+a+"/"+e.name.replace(/\//g,"_"),c=new FileReader;c.onloadend=function(a){if(2!=c.readyState)return++o,void console.log("failed to read dropped file: "+e.name+": "+c.error);var u=a.target.result;if(FS.writeFile(s,new Uint8Array(u)),++o===r){i.dynCall_viii(Fe.active.dropFunc,Fe.active.id,r,n);for(var l=0;l<t.length;++l)Me(t[l]);Me(n)}},c.readAsArrayBuffer(e);var l=F(xe(s),"i8",b);t.push(l),y(n+4*u,l,"i8*")}},onDragover:function(e){if(Fe.active&&Fe.active.dropFunc)return e.preventDefault(),!1},setWindowSizeCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.windowSizeFunc=n)},setWindowCloseCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.windowCloseFunc=n)},setWindowRefreshCallback:function(e,n){var t=Fe.WindowFromId(e);t&&(t.windowRefreshFunc=n)},onClickRequestPointerLock:function(e){!be.pointerLock&&i.canvas.requestPointerLock&&(i.canvas.requestPointerLock(),e.preventDefault())},setInputMode:function(e,n,t){var r=Fe.WindowFromId(e);if(r)switch(n){case 208897:switch(t){case 212993:r.inputModes[n]=t,i.canvas.removeEventListener("click",Fe.onClickRequestPointerLock,!0),i.canvas.exitPointerLock();break;case 212994:console.log("glfwSetInputMode called with GLFW_CURSOR_HIDDEN value not implemented.");break;case 212995:r.inputModes[n]=t,i.canvas.addEventListener("click",Fe.onClickRequestPointerLock,!0),i.canvas.requestPointerLock();break;default:console.log("glfwSetInputMode called with unknown value parameter value: "+t+".")}break;case 208898:console.log("glfwSetInputMode called with GLFW_STICKY_KEYS mode not implemented.");break;case 208899:console.log("glfwSetInputMode called with GLFW_STICKY_MOUSE_BUTTONS mode not implemented.");break;default:console.log("glfwSetInputMode called with unknown mode parameter value: "+n+".")}},getKey:function(e,n){var t=Fe.WindowFromId(e);return t?t.keys[n]:0},getMouseButton:function(e,n){var t=Fe.WindowFromId(e);return t?(t.buttons&1<<n)>0:0},getCursorPos:function(e,n,t){y(n,be.mouseX,"double"),y(t,be.mouseY,"double")},getMousePos:function(e,n,t){y(n,be.mouseX,"i32"),y(t,be.mouseY,"i32")},setCursorPos:function(e,n,t){},getWindowPos:function(e,n,t){var r=0,o=0,i=Fe.WindowFromId(e);i&&(r=i.x,o=i.y),y(n,r,"i32"),y(t,o,"i32")},setWindowPos:function(e,n,t){var r=Fe.WindowFromId(e);r&&(r.x=n,r.y=t)},getWindowSize:function(e,n,t){var r=0,o=0,i=Fe.WindowFromId(e);i&&(r=i.width,o=i.height),y(n,r,"i32"),y(t,o,"i32")},setWindowSize:function(e,n,t){var r=Fe.WindowFromId(e);r&&(Fe.active.id==r.id&&(n==screen.width&&t==screen.height?Fe.requestFullscreen():(Fe.exitFullscreen(),be.setCanvasSize(n,t),r.width=n,r.height=t)),r.windowSizeFunc&&i.dynCall_viii(r.windowSizeFunc,r.id,n,t))},createWindow:function(e,n,t,r,o){var a,u;for(a=0;a<Fe.windows.length&&null!==Fe.windows[a];a++);if(a>0)throw"glfwCreateWindow only supports one window at time currently";if(u=a+1,e<=0||n<=0)return 0;for(r?Fe.requestFullscreen():be.setCanvasSize(e,n),a=0;a<Fe.windows.length&&null==Fe.windows[a];a++);if(a==Fe.windows.length){var s={antialias:Fe.hints[135181]>1,depth:Fe.hints[135173]>0,stencil:Fe.hints[135174]>0,alpha:Fe.hints[135172]>0};i.ctx=be.createContext(i.canvas,!0,!0,s)}if(!i.ctx)return 0;var c=new Fe.Window(u,e,n,t,r,o);return u-1==Fe.windows.length?Fe.windows.push(c):Fe.windows[u-1]=c,Fe.active=c,c.id},destroyWindow:function(e){var n=Fe.WindowFromId(e);if(n){n.windowCloseFunc&&i.dynCall_vi(n.windowCloseFunc,n.id),Fe.windows[n.id-1]=null,Fe.active.id==n.id&&(Fe.active=null);for(var t=0;t<Fe.windows.length;t++)if(null!==Fe.windows[t])return;i.ctx=be.destroyContext(i.canvas,!0,!0)}},swapBuffers:function(e){},GLFW2ParamToGLFW3Param:function(e){return table={196609:0,196610:0,196611:0,196612:0,196613:0,196614:0,131073:0,131074:0,131075:0,131076:0,131077:135169,131078:135170,131079:135171,131080:135172,131081:135173,131082:135174,131083:135183,131084:135175,131085:135176,131086:135177,131087:135178,131088:135179,131089:135180,131090:0,131091:135181,131092:139266,131093:139267,131094:139270,131095:139271,131096:139272},table[e]}};function _e(){var e=_e;return e.LLVM_SAVEDSTACKS||(e.LLVM_SAVEDSTACKS=[]),e.LLVM_SAVEDSTACKS.push(Ie()),e.LLVM_SAVEDSTACKS.length-1}function xe(e,n,t){var r=t>0?t:A(e)+1,o=new Array(r),i=k(e,o,0,o.length);return n&&(o.length=i),o}i.requestFullScreen=function(e,n,t){i.printErr("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),i.requestFullScreen=i.requestFullscreen,be.requestFullScreen(e,n,t)},i.requestFullscreen=function(e,n,t){be.requestFullscreen(e,n,t)},i.requestAnimationFrame=function(e){be.requestAnimationFrame(e)},i.setCanvasSize=function(e,n,t){be.setCanvasSize(e,n,t)},i.pauseMainLoop=function(){be.mainLoop.pause()},i.resumeMainLoop=function(){be.mainLoop.resume()},i.getUserMedia=function(){be.getUserMedia()},i.createContext=function(e,n,t,r){return be.createContext(e,n,t,r)},we=f?function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof self&&self.performance&&"function"==typeof self.performance.now?function(){return self.performance.now()}:"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,Le.init(),U=v(4),z=p((N=p(O))+H),P[U>>2]=z,G=!0,i.wasmTableSize=10,i.wasmMaxTableSize=10,i.asmGlobalArg={},i.asmLibraryArg={abort:We,enlargeMemory:Y,getTotalMemory:function(){return J},abortOnCannotGrowMemory:K,___setErrNo:function(e){return i.___errno_location&&(P[i.___errno_location()>>2]=e),e},___syscall140:function(e,n){he.varargs=n;try{var t=he.getStreamFromFD(),r=(he.get(),he.get()),o=he.get(),i=he.get(),a=r;return FS.llseek(t,a,i),P[o>>2]=t.position,t.getdents&&0===a&&0===i&&(t.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||We(e),-e.errno}},___syscall146:function e(n,t){he.varargs=t;try{var r=he.get(),o=he.get(),a=he.get(),u=0;e.buffers||(e.buffers=[null,[],[]],e.printChar=function(n,t){var r=e.buffers[n];w(r),0===t||10===t?((1===n?i.print:i.printErr)(S(r,0)),r.length=0):r.push(t)});for(var s=0;s<a;s++){for(var c=P[o+8*s>>2],l=P[o+(8*s+4)>>2],f=0;f<l;f++)e.printChar(r,B[c+f]);u+=l}return u}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||We(e),-e.errno}},___syscall6:function(e,n){he.varargs=n;try{var t=he.getStreamFromFD();return FS.close(t),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||We(e),-e.errno}},_emscripten_force_exit:function(e){i.noExitRuntime=!1,i.exit(e)},_emscripten_memcpy_big:function(e,n,t){return B.set(B.subarray(n,n+t),e),e},_emscripten_set_main_loop:ye,_glAttachShader:function(e,n){Ee.attachShader(Le.programs[e],Le.shaders[n])},_glBindBuffer:function(e,n){var t=n?Le.buffers[n]:null;35051==e?Ee.currentPixelPackBufferBinding=n:35052==e&&(Ee.currentPixelUnpackBufferBinding=n),Ee.bindBuffer(e,t)},_glBufferData:function(e,n,t,r){if(t){if(Le.currentContext.supportsWebGL2EntryPoints)return void Ee.bufferData(e,B,r,t,n);Ee.bufferData(e,B.subarray(t,t+n),r)}else Ee.bufferData(e,n,r)},_glClear:function(e){Ee.clear(e)},_glCompileShader:function(e){Ee.compileShader(Le.shaders[e])},_glCreateProgram:function(){var e=Le.getNewId(Le.programs),n=Ee.createProgram();return n.name=e,Le.programs[e]=n,e},_glCreateShader:function(e){var n=Le.getNewId(Le.shaders);return Le.shaders[n]=Ee.createShader(e),n},_glDeleteShader:function(e){if(e){var n=Le.shaders[e];n?(Ee.deleteShader(n),Le.shaders[e]=null):Le.recordError(1281)}},_glDrawArrays:function(e,n,t){Ee.drawArrays(e,n,t)},_glEnableVertexAttribArray:function(e){Ee.enableVertexAttribArray(e)},_glGenBuffers:function(e,n){for(var t=0;t<e;t++){var r=Ee.createBuffer();if(!r){for(Le.recordError(1282);t<e;)P[n+4*t++>>2]=0;return}var o=Le.getNewId(Le.buffers);r.name=o,Le.buffers[o]=r,P[n+4*t>>2]=o}},_glGetAttribLocation:function(e,n){return e=Le.programs[e],n=_(n),Ee.getAttribLocation(e,n)},_glGetProgramInfoLog:function(e,n,t,r){var o=Ee.getProgramInfoLog(Le.programs[e]);if(null===o&&(o="(unknown error)"),n>0&&r){var i=M(o,r,n);t&&(P[t>>2]=i)}else t&&(P[t>>2]=0)},_glGetProgramiv:function(e,n,t){if(t)if(e>=Le.counter)Le.recordError(1281);else{var r=Le.programInfos[e];if(r)if(35716==n){var o=Ee.getProgramInfoLog(Le.programs[e]);null===o&&(o="(unknown error)"),P[t>>2]=o.length+1}else if(35719==n)P[t>>2]=r.maxUniformLength;else if(35722==n){if(-1==r.maxAttributeLength){e=Le.programs[e];var i=Ee.getProgramParameter(e,Ee.ACTIVE_ATTRIBUTES);r.maxAttributeLength=0;for(var a=0;a<i;++a){var u=Ee.getActiveAttrib(e,a);r.maxAttributeLength=Math.max(r.maxAttributeLength,u.name.length+1)}}P[t>>2]=r.maxAttributeLength}else if(35381==n){if(-1==r.maxUniformBlockNameLength){e=Le.programs[e];var s=Ee.getProgramParameter(e,Ee.ACTIVE_UNIFORM_BLOCKS);for(r.maxUniformBlockNameLength=0,a=0;a<s;++a){var c=Ee.getActiveUniformBlockName(e,a);r.maxUniformBlockNameLength=Math.max(r.maxUniformBlockNameLength,c.length+1)}}P[t>>2]=r.maxUniformBlockNameLength}else P[t>>2]=Ee.getProgramParameter(Le.programs[e],n);else Le.recordError(1282)}else Le.recordError(1281)},_glGetShaderInfoLog:function(e,n,t,r){var o=Ee.getShaderInfoLog(Le.shaders[e]);if(null===o&&(o="(unknown error)"),n>0&&r){var i=M(o,r,n);t&&(P[t>>2]=i)}else t&&(P[t>>2]=0)},_glGetShaderiv:function(e,n,t){if(t)if(35716==n){var r=Ee.getShaderInfoLog(Le.shaders[e]);null===r&&(r="(unknown error)"),P[t>>2]=r.length+1}else if(35720==n){var o=Ee.getShaderSource(Le.shaders[e]),i=null===o||0==o.length?0:o.length+1;P[t>>2]=i}else P[t>>2]=Ee.getShaderParameter(Le.shaders[e],n);else Le.recordError(1281)},_glGetUniformLocation:function(e,n){var t=0;if(-1!==(n=_(n)).indexOf("]",n.length-1)){var r=n.lastIndexOf("["),o=n.slice(r+1,-1);if(o.length>0&&(t=parseInt(o))<0)return-1;n=n.slice(0,r)}var i=Le.programInfos[e];if(!i)return-1;var a=i.uniforms[n];return a&&t<a[0]?a[1]+t:-1},_glLinkProgram:function(e){Ee.linkProgram(Le.programs[e]),Le.programInfos[e]=null,Le.populateUniformTable(e)},_glShaderSource:function(e,n,t,r){var o=Le.getSource(e,n,t,r);Ee.shaderSource(Le.shaders[e],o)},_glUniformMatrix4fv:function(e,n,t,r){if(Le.currentContext.supportsWebGL2EntryPoints)Ee.uniformMatrix4fv(Le.uniforms[e],!!t,D,r>>2,16*n);else{var o;if(16*n<=Le.MINI_TEMP_BUFFER_SIZE){o=Le.miniTempBufferViews[16*n-1];for(var i=0;i<16*n;i+=16)o[i]=D[r+4*i>>2],o[i+1]=D[r+(4*i+4)>>2],o[i+2]=D[r+(4*i+8)>>2],o[i+3]=D[r+(4*i+12)>>2],o[i+4]=D[r+(4*i+16)>>2],o[i+5]=D[r+(4*i+20)>>2],o[i+6]=D[r+(4*i+24)>>2],o[i+7]=D[r+(4*i+28)>>2],o[i+8]=D[r+(4*i+32)>>2],o[i+9]=D[r+(4*i+36)>>2],o[i+10]=D[r+(4*i+40)>>2],o[i+11]=D[r+(4*i+44)>>2],o[i+12]=D[r+(4*i+48)>>2],o[i+13]=D[r+(4*i+52)>>2],o[i+14]=D[r+(4*i+56)>>2],o[i+15]=D[r+(4*i+60)>>2]}else o=D.subarray(r>>2,r+64*n>>2);Ee.uniformMatrix4fv(Le.uniforms[e],!!t,o)}},_glUseProgram:function(e){Ee.useProgram(e?Le.programs[e]:null)},_glVertexAttribPointer:function(e,n,t,r,o,i){Ee.vertexAttribPointer(e,n,t,!!r,o,i)},_glViewport:function(e,n,t,r){Ee.viewport(e,n,t,r)},_glfwCreateWindow:function(e,n,t,r,o){return Fe.createWindow(e,n,t,r,o)},_glfwGetFramebufferSize:function(e,n,t){var r=0,o=0,i=Fe.WindowFromId(e);i&&(r=i.width,o=i.height),y(n,r,"i32"),y(t,o,"i32")},_glfwGetTime:function(){return Fe.getTime()-Fe.initialTime},_glfwInit:function(){return Fe.windows?1:(Fe.initialTime=Fe.getTime(),Fe.hints=Fe.defaultHints,Fe.windows=new Array,Fe.active=null,window.addEventListener("gamepadconnected",Fe.onGamepadConnected,!0),window.addEventListener("gamepaddisconnected",Fe.onGamepadDisconnected,!0),window.addEventListener("keydown",Fe.onKeydown,!0),window.addEventListener("keypress",Fe.onKeyPress,!0),window.addEventListener("keyup",Fe.onKeyup,!0),window.addEventListener("blur",Fe.onBlur,!0),i.canvas.addEventListener("mousemove",Fe.onMousemove,!0),i.canvas.addEventListener("mousedown",Fe.onMouseButtonDown,!0),i.canvas.addEventListener("mouseup",Fe.onMouseButtonUp,!0),i.canvas.addEventListener("wheel",Fe.onMouseWheel,!0),i.canvas.addEventListener("mousewheel",Fe.onMouseWheel,!0),i.canvas.addEventListener("mouseenter",Fe.onMouseenter,!0),i.canvas.addEventListener("mouseleave",Fe.onMouseleave,!0),i.canvas.addEventListener("drop",Fe.onDrop,!0),i.canvas.addEventListener("dragover",Fe.onDragover,!0),be.resizeListeners.push(function(e,n){Fe.onCanvasResize(e,n)}),1)},_glfwMakeContextCurrent:function(e){},_glfwPollEvents:function(){},_glfwSetErrorCallback:function(e){Fe.errorFunc=e},_glfwSwapBuffers:function(e){Fe.swapBuffers(e)},_glfwTerminate:function(){window.removeEventListener("gamepadconnected",Fe.onGamepadConnected,!0),window.removeEventListener("gamepaddisconnected",Fe.onGamepadDisconnected,!0),window.removeEventListener("keydown",Fe.onKeydown,!0),window.removeEventListener("keypress",Fe.onKeyPress,!0),window.removeEventListener("keyup",Fe.onKeyup,!0),window.removeEventListener("blur",Fe.onBlur,!0),i.canvas.removeEventListener("mousemove",Fe.onMousemove,!0),i.canvas.removeEventListener("mousedown",Fe.onMouseButtonDown,!0),i.canvas.removeEventListener("mouseup",Fe.onMouseButtonUp,!0),i.canvas.removeEventListener("wheel",Fe.onMouseWheel,!0),i.canvas.removeEventListener("mousewheel",Fe.onMouseWheel,!0),i.canvas.removeEventListener("mouseenter",Fe.onMouseenter,!0),i.canvas.removeEventListener("mouseleave",Fe.onMouseleave,!0),i.canvas.removeEventListener("drop",Fe.onDrop,!0),i.canvas.removeEventListener("dragover",Fe.onDragover,!0),i.canvas.width=i.canvas.height=1,Fe.windows=null,Fe.active=null},_glfwWindowHint:function(e,n){Fe.hints[e]=n},_llvm_stackrestore:function(e){var n=_e,t=n.LLVM_SAVEDSTACKS[e];n.LLVM_SAVEDSTACKS.splice(e,1),Te(t)},_llvm_stacksave:_e,DYNAMICTOP_PTR:U,STACKTOP:N};var Se=i.asm(i.asmGlobalArg,i.asmLibraryArg,T);i.asm=Se;i.___errno_location=function(){return i.asm.___errno_location.apply(null,arguments)};var ke,Me=i._free=function(){return i.asm._free.apply(null,arguments)},Ae=(i._main=function(){return i.asm._main.apply(null,arguments)},i._malloc=function(){return i.asm._malloc.apply(null,arguments)}),Ce=i.stackAlloc=function(){return i.asm.stackAlloc.apply(null,arguments)},Te=i.stackRestore=function(){return i.asm.stackRestore.apply(null,arguments)},Ie=i.stackSave=function(){return i.asm.stackSave.apply(null,arguments)};i.dynCall_v=function(){return i.asm.dynCall_v.apply(null,arguments)},i.dynCall_vii=function(){return i.asm.dynCall_vii.apply(null,arguments)};function Be(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}i.asm=Se,i.then=function(e){if(i.calledRun)e(i);else{var n=i.onRuntimeInitialized;i.onRuntimeInitialized=function(){n&&n(),e(i)}}return i},Be.prototype=new Error,Be.prototype.constructor=Be;function Re(e){function n(){i.calledRun||(i.calledRun=!0,g||(oe(),Z(ee),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i._main&&De&&i.callMain(e),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),te.unshift(e);var e;Z(te)}()))}e=e||i.arguments,ce>0||(!function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),$.unshift(e);var e;Z($)}(),ce>0||i.calledRun||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),n()},1)):n()))}function Pe(e,t){t&&i.noExitRuntime&&0===e||(i.noExitRuntime||(g=!0,e,N=ke,Z(ne),!0,i.onExit&&i.onExit(e)),f&&n.exit(e),i.quit(e,new Be(e)))}function We(e){throw i.onAbort&&i.onAbort(e),void 0!==e?(i.print(e),i.printErr(e),e=JSON.stringify(e)):e="",g=!0,1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(fe=function e(){i.calledRun||Re(),i.calledRun||(fe=e)},i.callMain=function(e){e=e||[],oe();var n=e.length+1,t=Ce(4*(n+1));P[t>>2]=C(i.thisProgram);for(var r=1;r<n;r++)P[(t>>2)+r]=C(e[r-1]);P[(t>>2)+n]=0;try{Pe(i._main(n,t,0),!0)}catch(e){if(e instanceof Be)return;if("SimulateInfiniteLoop"==e)return void(i.noExitRuntime=!0);var o=e;e&&"object"==typeof e&&e.stack&&(o=[e,e.stack]),i.printErr("exception thrown: "+o),i.quit(1,e)}finally{!0}},i.run=Re,i.exit=Pe,i.abort=We,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();var De=!0;return i.noInitialRun&&(De=!1),i.noExitRuntime=!0,Re(),e};e.exports=o}).call(n,t(0),t(4).setImmediate)},function(e,n,t){(function(e){var r=Function.prototype.apply;function o(e,n){this._id=e,this._clearFn=n}n.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;n>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},n))},t(5),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(n,t(1))},function(e,n,t){(function(e,n){!function(e,t){"use strict";if(!e.setImmediate){var r,o,i,a,u,s=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){n.nextTick(function(){v(e)})}:!function(){if(e.postMessage&&!e.importScripts){var n=!0,t=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=t,n}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){v(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var n=f.createElement("script");n.onreadystatechange=function(){v(e),n.onreadystatechange=null,o.removeChild(n),n=null},o.appendChild(n)}):r=function(e){setTimeout(v,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(a)&&v(+n.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(n){e.postMessage(a+n,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),t=0;t<n.length;t++)n[t]=arguments[t+1];var o={callback:e,args:n};return c[s]=o,r(s),s++},d.clearImmediate=m}function m(e){delete c[e]}function v(e){if(l)setTimeout(v,0,e);else{var n=c[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{m(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(n,t(1),t(0))},function(e,n,t){(function(e){function t(e,n){for(var t=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),t++):t&&(e.splice(r,1),t--)}if(n)for(;t--;t)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};function i(e,n){if(e.filter)return e.filter(n);for(var t=[],r=0;r<e.length;r++)n(e[r],r,e)&&t.push(e[r]);return t}n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),o="/"===a(e,-1);return(e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e,n){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var n=0;n<e.length&&""===e[n];n++);for(var t=e.length-1;t>=0&&""===e[t];t--);return n>t?[]:e.slice(n,t-n+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}var c=[];for(s=u;s<o.length;s++)c.push("..");return(c=c.concat(i.slice(u))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var n=o(e),t=n[0],r=n[1];return t||r?(r&&(r=r.substr(0,r.length-1)),t+r):"."},n.basename=function(e,n){var t=o(e)[2];return n&&t.substr(-1*n.length)===n&&(t=t.substr(0,t.length-n.length)),t},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,n,t){return e.substr(n,t)}:function(e,n,t){return n<0&&(n=e.length+n),e.substr(n,t)}}).call(n,t(0))}]);